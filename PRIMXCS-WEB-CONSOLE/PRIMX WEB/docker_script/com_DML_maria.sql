-- ID Generator
USE PRIMXDB;
SET NAMES utf8mb4;

-- 업무부서정보
INSERT INTO COMTNDEPTINFOMGR
(DEPT_SEQ, COMPANY_ID, DEPT_ID, DEPT_NAME, INSERTED_BY_HR_YN, PARENT_ID, `LEVEL`, SORT_ORDER, CREATED_DATE, UPDATE_DATE, USE_YN)
VALUES(0, 'A00001', 'A00001', '회사', 'Y', NULL, 1, NULL, current_timestamp(), NULL, 'Y');

-- 업무사용자정보
INSERT INTO PRIMXDB.COMTNEMPLYRINFO
(EMPLYR_SEQ, EMPLYR_ID, COMPANY_ID, PSTINST_CODE, GROUP_ID, ORGNZT_ID, USER_NM, PASSWORD, EMPL_NO, IHIDNUM, SEXDSTN_CODE, BRTHDY, FXNUM, HOUSE_ADRES, PASSWORD_HINT, PASSWORD_CNSR, AREA_NO, DETAIL_ADRES, ZIP, OFFM_TELNO, PHONE_NO, EMAIL_ADRES, OFCPS_NM, USE_YN, USER_TYPE, USER_ROLE, EMPLYR_STTUS_CODE, ESNTL_ID, CRTFC_DN_VALUE, INSERTED_BY_HR_YN, PWD_CHANGED, IS_PERIOD, INSERT_DATE, EXPIRED_DATE, PWD_EXPIRED_DATE, BEGIN_DATE, UPDATE_DATE, LOCK_AT, LOCK_CNT, LOCK_LAST_PNTTM, CHG_PWD_LAST_PNTTM)
VALUES(0, 'admin', 'A00001', NULL, NULL, 'A00001', '관리자계정', '2CSU8F1pF7oC96qilonMtES7c/IDgIdssF0fN1N7eJI=', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 'admin@gmail.com', NULL, 'Y', 0, 'ROLE_PRIMX_ADMIN', 'P', 'USRCNFRM_00000000001', NULL, 'N', 'N', 'N', '2025-02-06 22:22:04.000', '2025-07-09 00:00:00.000', '2025-07-24 11:05:50.000', NULL, NULL, NULL, NULL, NULL, '2025-04-15 11:05:50.000');

-- 권한정보
INSERT INTO COMTNAUTHORINFO VALUES ('IS_AUTHENTICATED_ANONYMOUSLY', '스프링시큐리티 내부사용(롤부여 금지)'      , '', NOW());
INSERT INTO COMTNAUTHORINFO VALUES ('IS_AUTHENTICATED_FULLY', '스프링시큐리티 내부사용(롤부여 금지)'      , '', NOW());
INSERT INTO COMTNAUTHORINFO VALUES ('IS_AUTHENTICATED_REMEMBERED', '스프링시큐리티 내부사용(롤부여 금지)', '', NOW());
INSERT INTO COMTNAUTHORINFO VALUES ('ROLE_ANONYMOUS', '익명 사용자'    , '', NOW());
INSERT INTO COMTNAUTHORINFO VALUES ('ROLE_PRIMX_ADMIN', 'ROLE_PRIMX_ADMIN'      , '일반관리자', NOW());
INSERT INTO COMTNAUTHORINFO VALUES ('ROLE_PRIMX_USER','ROLE_PRIMX_USER'           , '일반사용자', NOW());

-- 부서미지정
INSERT INTO PRIMXDB.COMTNDEPTINFOMGR
(DEPT_SEQ, COMPANY_ID, DEPT_ID, DEPT_NAME, INSERTED_BY_HR_YN, PARENT_ID, `LEVEL`, SORT_ORDER, CREATED_DATE, UPDATE_DATE, USE_YN)
VALUES(190, 'A00001', 'NO_DEPT', '부서미지정', 'Y', 'A00001', 1, NULL, NOW(), NULL, 'Y');

-- 롤 계층구조
INSERT INTO COMTNROLES_HIERARCHY VALUES ('IS_AUTHENTICATED_ANONYMOUSLY','IS_AUTHENTICATED_REMEMBERED');
INSERT INTO COMTNROLES_HIERARCHY VALUES ('IS_AUTHENTICATED_REMEMBERED' ,'IS_AUTHENTICATED_FULLY');
INSERT INTO COMTNROLES_HIERARCHY VALUES ('ROLE_ANONYMOUS'  ,'IS_AUTHENTICATED_ANONYMOUSLY');

-- 사용자보안설정
INSERT INTO COMTNEMPLYRSCRTYESTBS (SCRTY_DTRMN_TRGET_ID, MBER_TY_CODE, AUTHOR_CODE) VALUES ('USRCNFRM_00000000001', 'USR03', 'ROLE_PRIMX_ADMIN');

-- 롤 등록
INSERT INTO COMTNROLEINFO (ROLE_CODE, ROLE_NM, ROLE_PTTRN, ROLE_DC, ROLE_TY, ROLE_SORT, ROLE_CREAT_DE) VALUES('web-000001', '로그인롤', '\\A/uat/uia/.*\\.do.*\\Z', '로그인허용을 위한 롤', 'url', '1', SYSDATE());
INSERT INTO COMTNROLEINFO (ROLE_CODE, ROLE_NM, ROLE_PTTRN, ROLE_DC, ROLE_TY, ROLE_SORT, ROLE_CREAT_DE) VALUES('web-000050', 'PRIMX_COMMON', '/EgovContent.do', '메인페이지 접근권한', 'url', '1', SYSDATE());
INSERT INTO COMTNROLEINFO (ROLE_CODE, ROLE_NM, ROLE_PTTRN, ROLE_DC, ROLE_TY, ROLE_SORT, ROLE_CREAT_DE) VALUES('web-000051', 'PRIMX_ADMIN', '\\A/primx/fun/.*/.*\\.do.*\\Z', 'PRIMX_ADMIN', 'url', '1', SYSDATE());
INSERT INTO COMTNROLEINFO (ROLE_CODE, ROLE_NM, ROLE_PTTRN, ROLE_DC, ROLE_TY, ROLE_SORT, ROLE_CREAT_DE) VALUES('web-000060', 'PRIMX_USER_REQUEST', '\\A/primx/fun/rqt/.*\\.do.*\\Z', 'PRIMX_USER_REQUEST', 'url', '1', SYSDATE());
INSERT INTO COMTNROLEINFO (ROLE_CODE, ROLE_NM, ROLE_PTTRN, ROLE_DC, ROLE_TY, ROLE_SORT, ROLE_CREAT_DE) VALUES('web-000070', '요청페이지 접근', '\\A/primx/fun/rqt/createRequest/view.do\\Z', NULL, 'url', '1', SYSDATE());
INSERT INTO COMTNROLEINFO (ROLE_CODE, ROLE_NM, ROLE_PTTRN, ROLE_DC, ROLE_TY, ROLE_SORT, ROLE_CREAT_DE) VALUES('web-000080', '신청 롤', '\\A/primx/fun/rqt/createRequest/view\\.do.*\\Z', NULL, 'url', '1', SYSDATE());
INSERT INTO COMTNROLEINFO (ROLE_CODE, ROLE_NM, ROLE_PTTRN, ROLE_DC, ROLE_TY, ROLE_SORT, ROLE_CREAT_DE) VALUES('web-000090', 'PRIMX_USER_COMMON', '\\A/primx/fun/cmm/.*\\.do.*\\Z', 'PRIMX_USER_COMMON', 'url', '1', SYSDATE());
INSERT INTO COMTNROLEINFO (ROLE_CODE, ROLE_NM, ROLE_PTTRN, ROLE_DC, ROLE_TY, ROLE_SORT, ROLE_CREAT_DE) VALUES('web-000091', 'PRIMX_USER_DEPARTMENT', '\\A/primx/fun/dpt/.*\\.do.*\\Z', 'PRIMX_USER_DEPARTMENT', 'url', '1', SYSDATE());
INSERT INTO COMTNROLEINFO (ROLE_CODE, ROLE_NM, ROLE_PTTRN, ROLE_DC, ROLE_TY, ROLE_SORT, ROLE_CREAT_DE) VALUES('web-000092', 'PRIMX_USER_USER', '\\A/primx/fun/usr/.*\\.do.*\\Z', 'PRIMX_USER_USER', 'url', '1', SYSDATE());
INSERT INTO COMTNROLEINFO (ROLE_CODE, ROLE_NM, ROLE_PTTRN, ROLE_DC, ROLE_TY, ROLE_SORT, ROLE_CREAT_DE) VALUES('web-000100', 'PRIMX_USER_FILE', '\\A/primx/fun/file/.*\\.do.*\\Z', 'PRIMX_USER_FILE', 'url', '1', SYSDATE());
INSERT INTO COMTNROLEINFO (ROLE_CODE, ROLE_NM, ROLE_PTTRN, ROLE_DC, ROLE_TY, ROLE_SORT, ROLE_CREAT_DE) VALUES('web-000110', 'PRIMX_SUPPORT_ROLE', '\\A/primx/fun/sup/.*\\.do.*\\Z', '비회원 사용자 처리에 대한 롤', 'url', '1', SYSDATE());





-- 권한 롤 매핑
INSERT INTO COMTNAUTHORROLERELATE (AUTHOR_CODE, ROLE_CODE, CREAT_DT) VALUES ('ROLE_ANONYMOUS', 'web-000001', SYSDATE());
INSERT INTO COMTNAUTHORROLERELATE (AUTHOR_CODE, ROLE_CODE, CREAT_DT) VALUES ('ROLE_ANONYMOUS', 'web-000110', SYSDATE());
INSERT INTO COMTNAUTHORROLERELATE (AUTHOR_CODE, ROLE_CODE, CREAT_DT) VALUES ('ROLE_PRIMX_ADMIN', 'web-000001', SYSDATE());
INSERT INTO COMTNAUTHORROLERELATE (AUTHOR_CODE, ROLE_CODE, CREAT_DT) VALUES ('ROLE_PRIMX_ADMIN', 'web-000050', SYSDATE());
INSERT INTO COMTNAUTHORROLERELATE (AUTHOR_CODE, ROLE_CODE, CREAT_DT) VALUES ('ROLE_PRIMX_ADMIN', 'web-000051', SYSDATE());
INSERT INTO COMTNAUTHORROLERELATE (AUTHOR_CODE, ROLE_CODE, CREAT_DT) VALUES ('ROLE_PRIMX_USER', 'web-000001', SYSDATE());
INSERT INTO COMTNAUTHORROLERELATE (AUTHOR_CODE, ROLE_CODE, CREAT_DT) VALUES ('ROLE_PRIMX_USER', 'web-000050', SYSDATE());
INSERT INTO COMTNAUTHORROLERELATE (AUTHOR_CODE, ROLE_CODE, CREAT_DT) VALUES ('ROLE_PRIMX_USER', 'web-000060', SYSDATE());
INSERT INTO COMTNAUTHORROLERELATE (AUTHOR_CODE, ROLE_CODE, CREAT_DT) VALUES ('ROLE_PRIMX_USER', 'web-000090', SYSDATE());
INSERT INTO COMTNAUTHORROLERELATE (AUTHOR_CODE, ROLE_CODE, CREAT_DT) VALUES ('ROLE_PRIMX_USER', 'web-000091', SYSDATE());
INSERT INTO COMTNAUTHORROLERELATE (AUTHOR_CODE, ROLE_CODE, CREAT_DT) VALUES ('ROLE_PRIMX_USER', 'web-000092', SYSDATE());
INSERT INTO COMTNAUTHORROLERELATE (AUTHOR_CODE, ROLE_CODE, CREAT_DT) VALUES ('ROLE_PRIMX_USER', 'web-000100', SYSDATE());
INSERT INTO COMTNAUTHORROLERELATE (AUTHOR_CODE, ROLE_CODE, CREAT_DT) VALUES ('ROLE_PRIMX_USER', 'web-000110', SYSDATE());
